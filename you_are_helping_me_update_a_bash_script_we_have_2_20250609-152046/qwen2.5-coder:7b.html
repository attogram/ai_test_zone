  <!DOCTYPE html>
  <html lang="en">
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    a:hover { background-color: yellow; color: black; }
    body { font-family: monospace; }
    header, footer { background-color: #f0f0f0; padding: 10px; }
    li { margin: 5px; }
    table, td, th { border-collapse: collapse; }
    td, th { border: 1px solid #cccccc; padding: 5px; text-align: right; }
    tr:hover { background-color: lightyellow; color: black; }
    textarea { border: 1px solid #cccccc; white-space: pre-wrap; width: 90%; }
    .box { display: inline-block; margin: 3px; padding: 2px; vertical-align: top; }
    .left { text-align: left; }
    .menu { font-size: small; }
  </style>
<title>ollama-multirun: qwen2.5-coder:7b</title></head><body>
<header><a href='../index.html'>ollama-multirun</a>: <a href='./index.html'>you_are_helping_me_update_a_bash_script_we_have_2</a>: <b>qwen2.5-coder:7b</b>: 20250609-152046<br /><br />
<span class='menu'>
<a href='models.html'>models</a>: 
<b>qwen2.5-coder:7b</b> 
<a href='./codellama:7b.html'>codellama:7b</a> 
<a href='./starcoder:7b.html'>starcoder:7b</a> 
<a href='./stable-code:3b.html'>stable-code:3b</a> 
<a href='./deepcoder:1.5b.html'>deepcoder:1.5b</a> 
<a href='./dolphin3:8b.html'>dolphin3:8b</a> 
<a href='./gemma:2b.html'>gemma:2b</a> 
<a href='./granite3.3:2b.html'>granite3.3:2b</a> 
<a href='./mistral:7b.html'>mistral:7b</a> 
<a href='./qwen3:1.7b.html'>qwen3:1.7b</a> 
</span>
</header>
<p>Prompt: (<a href='./prompt.txt'>raw</a>) (<a href='./you_are_helping_me_update_a_bash_script_we_have_2.prompt.yaml'>yaml</a>)
  words:174  bytes:1238<br />
<textarea readonly rows='10'>You are helping me update a bash script.
We have 2 text files: stats.txt and show.txt.

Read in and parse the stats file:
  - save the data into bash variables
  - each line is in format &quot;name: value&quot;
  - for example line:
    total duration:       4.687657458s
 - is parsed so we can get the name &quot;total duration&quot; and the value &quot;4.687657458s&quot;
 - Example stats.txt file:
&#39;&#39;&#39;
total duration:       4.687657458s
load duration:        1.174041625s
prompt eval count:    22 token(s)
prompt eval duration: 152.612625ms
prompt eval rate:     144.16 tokens/s
eval count:           209 token(s)
eval duration:        3.360331625s
eval rate:            62.20 tokens/s

&#39;&#39;&#39;

Read in a parse the show.txt file:
  - save the data into bash variables
  - There are 3 sections: Model, Capabilities, and Parameters
  - For Model Section, it&#39;s in format &quot;name   value&quot;
  - For Capabilities section, it&#39;s a list of 1 or more words
  - For Parameters section, it&#39;s in format &quot;name   value&quot;
  - Example show.txt file:
&#39;&#39;&#39;
  Model
    architecture        starcoder
    parameters          7.5B
    context length      8192
    embedding length    4096
    quantization        Q4_0

  Capabilities
    completion

  Parameters
    stop    &quot;&lt;|endoftext|&gt;&quot;
&#39;&#39;&#39;</textarea>
</p>
<p>Output: qwen2.5-coder:7b (<a href='./qwen2.5-coder:7b.txt'>raw</a>)<br />
<textarea readonly rows='25'>Certainly! Below is a bash script that reads and parses the `stats.txt` and `show.txt` files as described. It extracts the data into bash variables.

```bash
#!/bin/bash

# Function to parse stats.txt
parse_stats() {
    local file_path=$1
    declare -A stats_vars

    while IFS=&#39;:&#39; read -r key value; do
        if [[ $key =~ ^\s*(.*)\s*$ ]]; then
            clean_key=${BASH_REMATCH[1]}
            if [[ $value =~ ^\s*([0-9\.]+)(.*)\s*$ ]]; then
                stats_vars[$clean_key]=&quot;${BASH_REMATCH[1]}${BASH_REMATCH[2]}&quot;
            else
                stats_vars[$clean_key]=&quot;$value&quot;
            fi
        fi
    done &lt; &quot;$file_path&quot;

    for key in &quot;${!stats_vars[@]}&quot;; do
        echo &quot;STAT: $key=${stats_vars[$key]}&quot;
    done

    # Assign values to variables
    total_duration=${stats_vars[&quot;total duration&quot;]}
    load_duration=${stats_vars[&quot;load duration&quot;]}
    prompt_eval_count=${stats_vars[&quot;prompt eval count&quot;]}
    prompt_eval_duration=${stats_vars[&quot;prompt eval duration&quot;]}
    prompt_eval_rate=${stats_vars[&quot;prompt eval rate&quot;]}
    eval_count=${stats_vars[&quot;eval count&quot;]}
    eval_duration=${stats_vars[&quot;eval duration&quot;]}
    eval_rate=${stats_vars[&quot;eval rate&quot;]}

    echo &quot;Total Duration: $total_duration&quot;
    echo &quot;Load Duration: $load_duration&quot;
    echo &quot;Prompt Eval Count: $prompt_eval_count&quot;
    echo &quot;Prompt Eval Duration: $prompt_eval_duration&quot;
    echo &quot;Prompt Eval Rate: $prompt_eval_rate&quot;
    echo &quot;Eval Count: $eval_count&quot;
    echo &quot;Eval Duration: $eval_duration&quot;
    echo &quot;Eval Rate: $eval_rate&quot;
}

# Function to parse show.txt
parse_show() {
    local file_path=$1
    declare -A model_vars
    declare -a capabilities_vars
    declare -A parameters_vars

    section=&quot;&quot;
    while IFS= read -r line; do
        if [[ &quot;$line&quot; == &quot;Model&quot; ]]; then
            section=&quot;model&quot;
        elif [[ &quot;$line&quot; == &quot;Capabilities&quot; ]]; then
            section=&quot;capabilities&quot;
        elif [[ &quot;$line&quot; == &quot;Parameters&quot; ]]; then
            section=&quot;parameters&quot;
        else
            case $section in
                model)
                    if [[ $line =~ ^\s*(.*)\s*:\s*(.*)\s*$ ]]; then
                        key=${BASH_REMATCH[1]}
                        value=${BASH_REMATCH[2]}
                        model_vars[$key]=&quot;$value&quot;
                    fi
                    ;;
                capabilities)
                    capability=$(echo &quot;$line&quot; | xargs)
                    capabilities_vars+=(&quot;$capability&quot;)
                    ;;
                parameters)
                    if [[ $line =~ ^\s*(.*)\s*:\s*(.*)\s*$ ]]; then
                        key=${BASH_REMATCH[1]}
                        value=${BASH_REMATCH[2]}
                        parameters_vars[$key]=&quot;$value&quot;
                    fi
                    ;;
            esac
        fi
    done &lt; &quot;$file_path&quot;

    for key in &quot;${!model_vars[@]}&quot;; do
        echo &quot;MODEL: $key=${model_vars[$key]}&quot;
    done

    for capability in &quot;${capabilities_vars[@]}&quot;; do
        echo &quot;CAPABILITY: $capability&quot;
    done

    for key in &quot;${!parameters_vars[@]}&quot;; do
        echo &quot;PARAMETERS: $key=${parameters_vars[$key]}&quot;
    done

    # Assign values to variables
    architecture=${model_vars[&quot;architecture&quot;]}
    parameters=${model_vars[&quot;parameters&quot;]}
    context_length=${model_vars[&quot;context length&quot;]}
    embedding_length=${model_vars[&quot;embedding length&quot;]}
    quantization=${model_vars[&quot;quantization&quot;]}

    completion_capability=$(echo &quot;${capabilities_vars[@]}&quot; | grep -o &quot;completion&quot; || true)

    stop_value=${parameters_vars[&quot;stop&quot;]}

    echo &quot;Architecture: $architecture&quot;
    echo &quot;Parameters: $parameters&quot;
    echo &quot;Context Length: $context_length&quot;
    echo &quot;Embedding Length: $embedding_length&quot;
    echo &quot;Quantization: $quantization&quot;
    echo &quot;Completion Capability: $completion_capability&quot;
    echo &quot;Stop Value: $stop_value&quot;
}

# Parse files
parse_stats stats.txt
echo
parse_show show.txt
```

### Explanation:
1. **parse_stats Function**: This function reads `stats.txt`, splits each line into a key-value pair, and stores them in an associative array. It then prints out the key-value pairs and assigns the values to corresponding bash variables.

2. **parse_show Function**: This function reads `show.txt`, handles different sections (`Model`, `Capabilities`, `Parameters`), and stores the data in associative arrays or arrays. It then prints out the key-value pairs and assigns the values to corresponding bash variables.

3. **Usage**: The script calls these functions with the respective file paths (`stats.txt` and `show.txt`). You can run this script directly from your terminal if both files are in the same directory as the script, or adjust the file paths accordingly.

This script should handle the parsing and extraction of data from both files effectively.</textarea>
</p>
<div class='box'><table>
<tr><td class='left' colspan='2'>Stats (<a href='./qwen2.5-coder:7b.stats.txt'>raw</a>)</td></tr>
<tr><td class='left'>words</td><td>441</td></tr>
<tr><td class='left'>bytes</td><td>4769</td></tr>
<tr><td class='left'>total duration</td><td>1m8.672905959s</td></tr>
<tr><td class='left'>load duration</td><td>2.946704417s</td></tr>
<tr><td class='left'>prompt eval count</td><td>418 token(s)</td></tr>
<tr><td class='left'>prompt eval duration</td><td>2.887356291s</td></tr>
<tr><td class='left'>prompt eval rate</td><td>144.77 tokens/s</td></tr>
<tr><td class='left'>eval count</td><td>1084 token(s)</td></tr>
<tr><td class='left'>eval duration</td><td>1m2.83831525s</td></tr>
<tr><td class='left'>eval rate</td><td>17.25 tokens/s</td></tr>
</table></div>
<div class='box'><table>
<tr><td class='left' colspan='2'>Model (<a href='./qwen2.5-coder:7b.info.txt'>raw</a>)</td></tr>
<tr><td class='left'>name</td><td class='left'><a target='ollama' href='https://ollama.com/library/qwen2.5-coder:7b'>qwen2.5-coder:7b</a></td></tr>
<tr><td class='left'>architecture</td><td class='left'>qwen2</td></tr>
<tr><td class='left'>size</td><td class='left'>6.0 GB</td></tr>
<tr><td class='left'>parameters</td><td class='left'>7.6B</td></tr>
<tr><td class='left'>context length</td><td class='left'>32768</td></tr>
<tr><td class='left'>embedding length</td><td  class='left'>3584</td></tr>
<tr><td class='left'>quantization</td><td class='left'>Q4_K_M</td></tr>
<tr><td class='left'>capabilities</td><td class='left'>completion<br />tools<br />insert<br /></td>
</table></div>
<div class='box'><table>
<tr><td class='left' colspan='2'>System</td></tr>
<tr><td class='left'>ollama proc</td><td class='left'>100% GPU</td></tr>
<tr><td class='left'>ollama version</td><td class='left'>0.9.0</td></tr>
<tr><td class='left'>sys arch</td><td class='left'>arm64</td></tr>
<tr><td class='left'>sys processor</td><td class='left'>arm</td></tr>
<tr><td class='left'>sys memory</td><td class='left'>10G + 1745M</td></tr>
<tr><td class='left'>sys OS</td><td class='left'>Darwin 24.5.0</td></tr>
</table></div>
<br /><br />
<footer>
<p>page created:   2025-06-09 15:21:57</p>
<p>Generated with: <a target='ollama-multirun' href='https://github.com/attogram/ollama-multirun'>ollama-multirun</a> v4.2</p>
</footer></body></html>
